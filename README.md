# Swagger generated server

Spring Boot Server 


## Overview  
This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project.  
By using the [OpenAPI-Spec](https://github.com/swagger-api/swagger-core), you can easily generate a server stub.  
This is an example of building a swagger-enabled server in Java using the SpringBoot framework.  

The underlying library integrating swagger to SpringBoot is [springfox](https://github.com/springfox/springfox)  

Start your server as an simple java application  

You can view the api documentation in swagger-ui by pointing to  
http://localhost:8080/  

Change default port value in application.properties

----

## How to make SpringFox work with JPMS

The original, non-JPMS source code this demo is based on was first generated by the [*Swagger Editor*](https://editor.swagger.io/?_ga=2.15063542.139052084.1598569726-959724170.1598569726) (*the `Generate Server | spring` menu option*).

Then the [_`pom.xml`_]() file was edited to add the [*springfox.docketyper*](https://github.com/lingocoder/springfox.docketyper) dependency. And because [*Spring Boot 1.5 does not support JPMS*](https://twitter.com/ankinson/status/919826619044331520), the Spring Boot dependency was upgraded to version 2.3.3. 

Following that, minor edits were made to [_`SwaggerDocumentationConfig.java`_]():

```
   @Bean
   public Docket customImplementation( ){
       return DocketTyper.of( OAS3 ).orElse( LATEST )
               .select( )
                   .apis( RequestHandlerSelectors.basePackage( "io.swagger.api" ) )
                   .build( )
               .directModelSubstitute( org.threeten.bp.LocalDate.class, java.sql.Date.class )
               .directModelSubstitute( org.threeten.bp.OffsetDateTime.class, java.util.Date.class )
               .apiInfo( apiInfo( ) );
   }
```

Lastly, a [_`module-info.java`_]() file was introduced that specifies the list of automatic and explicit modules required by this module.

Importantly, _`springfox.documentation.spi`_ is ***not*** a dependency of this module. Its absense from the module path prevents [*the SpringFox split package issue*](https://github.com/springfox/springfox/issues/2064).

### Run this demo

1. Download or clone this project
2. _`cd`_ to the location of *1*
3. Run  _`mvn spring-boot:run`_
4. Type _`curl "http://localhost:8080/api-docs -H "accept: application/json`_
5. Type _`curl "http://localhost:8080/swagger-ui.html`_
6. Type _`jar -f {%project.dir%}/target/springfox.docketyper.demo-0.0.0.jar --describe-module`_:
```
springfox.docketyper.demo@0.0.0 jar:file:///.../springfox.docketyper.demo/target/springfox.docketyper.demo-0.0.0.jar/!module-info.class
exports io.swagger.api
exports io.swagger.configuration
exports io.swagger.model
...
requires java.xml.bind
requires org.apache.tomcat.embed.core
...
requires springfox.docketyper
requires springfox.spring.web
requires springfox.swagger2
...
```